---
title: jenkins安装
date: 2022-04-25 16:17:35
cover: /img/thumbnail/学习/后端/jenkins/jenkins.png
thumbnail: /img/thumbnail/学习/后端/jenkins/jenkins.png
tags:
- jenkins
---

## 安装jdk

```bash
yum install -y java-1.8.0-openjdk-devel.x86_64
```
<!--more-->
检查是否安装成功，java -version

## 安装jenkins

yum的repo中默认没有Jenkins，需要先将Jenkins存储库添加到yum repos
直接上命令，等待安装即可

```shell
wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo 
rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
#jenkins 默认安装最新的
yum install -y 
```

## 启动jenkins

```shell
service jenkins start
```

自动安装的话，默认端口为8080，默认目录：

- 安装目录：/var/lib/jenkins
- 日志目录：/var/log/jenkins/jenkins.log
- 默认配置目录：/etc/sysconfig/jenkins

可修改jenkins用户为root用户、修改端口等

```shell
vim /etc/sysconfig/jenkins
service jenkins restart
```

其中的JENKINS_USER和JENKINS_PORT为用户和端口

如果端口修改没有生效，可以使用如下方法：

```shell
# 进入目录
cd /usr/lib/systemd/system
vim jenkins.service
# 或者
vim /usr/lib/systemd/system/jenkins.service
# 修改为想要的端口
Environment="JENKINS_PORT=9080"
# 重新加载配置文件
systemctl daemon-reload
```

## 激活jenkins

首次登陆jenkins，需要输入密码

```bash
cat  /var/lib/jenkins/secrets/initialAdminPassword
```

选择推荐插件就好了

